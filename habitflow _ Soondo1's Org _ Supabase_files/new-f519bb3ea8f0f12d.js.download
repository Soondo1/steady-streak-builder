!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="cc3254ce-659f-4bdb-8fed-8b20babe0f48",e._sentryDebugIdIdentifier="sentry-dbid-cc3254ce-659f-4bdb-8fed-8b20babe0f48")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7946],{18256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(80263),i=n(26090),l=n(25344),a=n(24781),o=n(796),s=n(53239),c=n(57283),u=n(40342),d=n(6408),f=n(21502),p=n(80251),v=n(73969),y=n(3807);async function h(e){let{hcaptchaToken:t}=e,{data:n,error:r}=await (0,y.bE)("/platform/stripe/setup-intent",{body:{hcaptchaToken:t}});return r&&(0,y.H4)(r),n}let m=function(){let{onSuccess:e,onError:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.n)(e=>h(e),{async onSuccess(t,n,r){await (null==e?void 0:e(t,n,r))},async onError(e,n,r){void 0===t?v.oR.error("Failed to setup intent: ".concat(e.message)):t(e,n,r)},...n})};var w=n(58897),b=n(96277);let x=(0,a.c)(w.WS),E=()=>{let{resolvedTheme:e}=(0,o.D)(),[t,n]=(0,s.useState)(),a=(0,b.F)(),[u,d]=(0,s.useState)(null),[f,p]=(0,s.useState)(null),{mutate:v}=m({onSuccess:e=>n(e)}),y=(0,s.useCallback)(e=>{p(e)},[]),h=async e=>{if(!e)return console.error("Hcaptcha token is required");n(void 0),v({hcaptchaToken:e})},w={clientSecret:t?t.client_secret:"",appearance:{theme:(null==e?void 0:e.includes("dark"))?"night":"flat",labels:"floating"}},E=async()=>{if(f&&a){let t=u;try{if(!t){var e;let n=await f.execute({async:!0});t=null!=(e=null==n?void 0:n.response)?e:null}}catch(e){return}await h(null!=t?t:void 0),j()}};(0,s.useEffect)(()=>{E()},[f,a]);let g=()=>E(),j=()=>{d(null),null==f||f.resetCaptcha()};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{ref:y,sitekey:"4ca1fdb9-c9c9-4495-ba50-c85fc0e7ec1f",size:"invisible",onVerify:e=>{d(e)},onClose:()=>{n(void 0)},onExpire:()=>{d(null)},"data-sentry-element":"HCaptcha","data-sentry-source-file":"index.tsx"}),t&&(0,r.jsx)(l.Elements,{stripe:x,options:w,children:(0,r.jsx)(c.ZN,{onPaymentMethodReset:()=>g()})})]})};E.getLayout=e=>(0,r.jsx)(u.A,{children:(0,r.jsx)(d.A,{headerTitle:"New organization",children:(0,r.jsx)(f.A,{children:e})})});let g=E},21502:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,U:()=>o});var r=n(80263),i=n(29730);let l=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"flex w-full flex-col","data-sentry-component":"WizardLayout","data-sentry-source-file":"WizardLayout.tsx",children:(0,r.jsx)("div",{className:"overflow-auto",children:(0,r.jsx)("section",{className:"has-slide-in slide-in relative mx-auto my-10 max-w-2xl",children:t})})})},a=(0,i.r)(l),o=l},24781:(e,t,n)=>{"use strict";n.d(t,{c:()=>y});var r,i="https://js.stripe.com/v3",l=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,a=function(){for(var e=document.querySelectorAll('script[src^="'.concat(i,'"]')),t=0;t<e.length;t++){var n=e[t];if(l.test(n.src))return n}return null},o=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(i).concat(t);var r=document.head||document.body;if(!r)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},s=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"5.5.0",startTime:t})},c=null,u=null,d=null,f=function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return s(r,n),r},p=!1,v=function(){return r?r:r=(null!==c?c:(c=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var n,r=a();r?r&&null!==d&&null!==u&&(r.removeEventListener("load",d),r.removeEventListener("error",u),null==(n=r.parentNode)||n.removeChild(r),r=o(null)):r=o(null),d=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},u=function(){t(Error("Failed to load Stripe.js"))},r.addEventListener("load",d),r.addEventListener("error",u)}catch(e){t(e);return}})).catch(function(e){return c=null,Promise.reject(e)})).catch(function(e){return r=null,Promise.reject(e)})};Promise.resolve().then(function(){return v()}).catch(function(e){p||console.warn(e)});var y=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];p=!0;var r=Date.now();return v().then(function(e){return f(e,t,r)})}},40342:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(80263);let i=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"h-full min-h-[0px] basis-0 flex-1","data-sentry-component":"AppLayout","data-sentry-source-file":"AppLayout.tsx",children:t})}},43723:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/new",function(){return n(18256)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[4906,2479,8058,9353,9413,3730,6110,6182,589,9257,1673,5599,7990,8508,4365,2981,7406,1685,2809,5165,9740,1478,2725,5969,3719,9472,9088,3423,1252,7613,6799,2950,7283,6593,636,8792],()=>t(43723)),_N_E=e.O()}]);