!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="9b36ee90-6dfa-4952-84ca-6adf1e399bad",e._sentryDebugIdIdentifier="sentry-dbid-9b36ee90-6dfa-4952-84ca-6adf1e399bad")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936,1202,6106],{11375:(e,t,a)=>{"use strict";a.d(t,{d:()=>c});var r=a(80263),n=a(44893),l=a(79279),s=a(53239),o=a(2);let i=(0,l.F)("peer inline-flex shrink-0 cursor-pointer items-center rounded-full border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-brand data-[state=checked]:hover:bg-brand-600/90 data-[state=unchecked]:bg-control data-[state=unchecked]:hover:bg-border",{variants:{size:{small:"h-[16px] w-[28px]",medium:"h-[20px] w-[34px]",large:"h-[24px] w-[44px]"}},defaultVariants:{size:"medium"}}),d=(0,l.F)("pointer-events-none block rounded-full bg-foreground-lighter data-[state=checked]:bg-white shadow-lg ring-0 transition-transform",{variants:{size:{small:"h-[12px] w-[12px] data-[state=checked]:translate-x-[13px] data-[state=unchecked]:translate-x-[1px]",medium:"h-[16px] w-[16px] data-[state=checked]:translate-x-[15px] data-[state=unchecked]:translate-x-[1px]",large:"h-[18px] w-[18px] data-[state=checked]:translate-x-[22px] data-[state=unchecked]:translate-x-[3px]"}},defaultVariants:{size:"medium"}}),c=s.forwardRef((e,t)=>{let{className:a,size:l,...s}=e;return(0,r.jsx)(n.bL,{className:(0,o.cn)(i({size:l}),a),...s,ref:t,children:(0,r.jsx)(n.zi,{className:(0,o.cn)(d({size:l}))})})});c.displayName=n.bL.displayName},20969:(e,t,a)=>{"use strict";a.d(t,{A0:()=>o,BF:()=>i,Gg:()=>d,Hj:()=>c,XI:()=>s,nA:()=>m,nd:()=>u,r6:()=>p});var r=a(80263),n=a(53239),l=a(2);let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{className:"w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",a),...n})})});s.displayName="Table";let o=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",a),...n})});o.displayName="TableHeader";let i=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",a),...n})});i.displayName="TableBody";let d=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("bg-primary font-medium text-primary-foreground",a),...n})});d.displayName="TableFooter";let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...n})});c.displayName="TableRow";let u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-foreground-muted [&:has([role=checkbox])]:pr-0",a),...n})});u.displayName="TableHead";let m=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...n})});m.displayName="TableCell";let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-foreground-muted",a),...n})});p.displayName="TableCaption"},27098:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>em});var r=a(80263),n=a(60045),l=a(53239),s=a(73969),o=a(89044),i=a(32981),d=a(94328),c=a(87494),u=a(39353),m=a(56947),p=a(3807);let f={list:e=>["projects",e,"log-drains"]};async function h(e,t){let{ref:a}=e;if(!a)throw Error("ref is required");let{data:r,error:n}=await (0,p.Jt)("/platform/projects/{ref}/analytics/log-drains",{params:{path:{ref:a}},signal:t});return n&&(0,p.H4)(n),r}let x=function(e){let{ref:t}=e,{enabled:a=!0,...r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,m.I)(f.list(t),e=>{let{signal:a}=e;return h({ref:t},a)},{enabled:a&&!!t,refetchOnMount:!1,...r})};var g=a(85669),y=a(49189),v=a(76828),j=a(79295),b=a(52839),w=a(11375),N=a(16601),k=a(27787),S=a(81370),C=a(31755);let A=(0,a(47370).A)("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);var R=a(40900);let D={height:24,width:24,className:"text-foreground-light"},L=[{value:"webhook",name:"HTTP Endpoint",description:"Forward logs as a POST request to a custom HTTP endpoint",icon:(0,r.jsx)(A,{...D})},{value:"datadog",name:"Datadog",description:"Datadog is a monitoring service for cloud-scale applications",icon:(0,r.jsx)(R.Zm,{...D,fill:"currentColor",strokeWidth:0})},{value:"loki",name:"Loki",description:"Loki is an open-source log aggregation system designed to store and query logs from multiple sources",icon:(0,r.jsx)(R.Dg,{...D,fill:"currentColor",strokeWidth:0})}];L.map(e=>e.value);let E=[{label:"AP1",value:"AP1"},{label:"EU",value:"EU"},{label:"US1",value:"US1"},{label:"US1-FED",value:"US1-FED"},{label:"US3",value:"US3"},{label:"US5",value:"US5"}];var z=a(67007);let _="log-drain-destination-form",T=u.z.discriminatedUnion("type",[u.z.object({type:u.z.literal("webhook"),url:u.z.string().regex((0,C.r)(),"Endpoint URL is required and must be a valid URL"),http:u.z.enum(["http1","http2"]),gzip:u.z.boolean(),headers:u.z.record(u.z.string(),u.z.string()).optional()}),u.z.object({type:u.z.literal("datadog"),api_key:u.z.string().min(1,{message:"API key is required"}),region:u.z.string().min(1,{message:"Region is required"})}),u.z.object({type:u.z.literal("elastic")}),u.z.object({type:u.z.literal("postgres")}),u.z.object({type:u.z.literal("bigquery")}),u.z.object({type:u.z.literal("loki"),url:u.z.string().min(1,{message:"Loki URL is required"}),headers:u.z.record(u.z.string(),u.z.string()),username:u.z.string().optional(),password:u.z.string().optional()})]),F=u.z.object({name:u.z.string().min(1,{message:"Destination name is required"}),description:u.z.string().optional()}).and(T);function M(e){let{value:t,label:a,description:n,formControl:l,placeholder:s,type:o,defaultValue:i}=e;return(0,r.jsx)(g.zB,{name:t,control:l,render:e=>{let{field:t}=e;return(0,r.jsx)(k.M,{layout:"horizontal",label:a,description:n||"",children:(0,r.jsx)(g.MJ,{children:(0,r.jsx)(y.p,{defaultValue:i,type:o||"text",placeholder:s,...t})})})},"data-sentry-element":"FormField_Shadcn_","data-sentry-component":"LogDrainFormItem","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"})}function I(e){var t,a,n,u;let{open:m,onOpenChange:p,defaultValues:f,onSubmit:h,isLoading:C,mode:A}=e,R=(null==f?void 0:f.config)||{},D="create"===A?{"Content-Type":"application/json"}:(null==R?void 0:R.headers)||{},{ref:T}=(0,o.g)(),{data:I}=x({ref:T}),P=(null==f?void 0:f.type)||"webhook",[H,q]=(0,l.useState)({name:"",value:""}),U=(0,c.mN)({resolver:(0,i.u)(F),values:{name:(null==f?void 0:f.name)||"",description:(null==f?void 0:f.description)||"",type:P,http:(null==R?void 0:R.http)||"http2",gzip:"create"===A||(null==R?void 0:R.gzip)||!1,headers:D,url:(null==R?void 0:R.url)||"",api_key:(null==R?void 0:R.api_key)||"",region:(null==R?void 0:R.region)||"",username:(null==R?void 0:R.username)||"",password:(null==R?void 0:R.password)||""}}),V=U.watch("headers"),B=U.watch("type"),G=(null==(t=Object.keys(V||{}))?void 0:t.length)>0;return(0,l.useEffect)(()=>{"create"!==A||m||U.reset()},[A,m,U]),(0,r.jsx)(v.cj,{open:m,onOpenChange:e=>{q({name:"",value:""}),p(e)},"data-sentry-element":"Sheet","data-sentry-component":"LogDrainDestinationSheetForm","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsxs)(v.h,{tabIndex:void 0,showClose:!1,size:"lg",className:"overflow-y-auto flex flex-col","data-sentry-element":"SheetContent","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:[(0,r.jsx)(v.Fm,{"data-sentry-element":"SheetHeader","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsx)(v.qp,{"data-sentry-element":"SheetTitle","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:"Add destination"})}),(0,r.jsxs)(v.Xc,{className:"!px-0 !pb-0","data-sentry-element":"SheetSection","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:[(0,r.jsx)(g.lV,{...U,"data-sentry-element":"Form_Shadcn_","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsxs)("form",{id:_,onSubmit:e=>{e.preventDefault();let t=U.getValues("name");if((null==I?void 0:I.find(e=>e.name===t))&&"create"===A)return void s.oR.error("Log drain name already exists");U.handleSubmit(h)(e)},children:[(0,r.jsxs)("div",{className:"space-y-8 px-content",children:[(0,r.jsx)(M,{value:"name",placeholder:"My Destination",label:"Name",formControl:U.control,"data-sentry-element":"LogDrainFormItem","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"}),(0,r.jsx)(M,{value:"description",placeholder:"My Destination",label:"Description",formControl:U.control,"data-sentry-element":"LogDrainFormItem","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"}),"create"===A&&(0,r.jsx)(k.M,{layout:"horizontal",label:"Type",description:(null==(a=L.find(e=>e.value===B))?void 0:a.description)||"",children:(0,r.jsxs)(j.l6,{defaultValue:P,value:U.getValues("type"),onValueChange:e=>U.setValue("type",e),children:[(0,r.jsx)(j.bq,{children:null==(n=L.find(e=>e.value===B))?void 0:n.name}),(0,r.jsx)(j.gC,{children:L.map(e=>(0,r.jsx)(j.eb,{value:e.value,id:e.value,className:"text-left",children:e.name},e.value))})]})})]}),(0,r.jsxs)("div",{className:"space-y-8 mt-4",children:["webhook"===B&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"px-content space-y-8",children:[(0,r.jsx)(M,{value:"url",label:"Endpoint URL",formControl:U.control,placeholder:"https://example.com/log-drain"}),(0,r.jsx)(g.zB,{control:U.control,name:"http",render:e=>{let{field:t}=e;return(0,r.jsx)(k.M,{layout:"horizontal",label:"HTTP Version",children:(0,r.jsx)(g.MJ,{children:(0,r.jsxs)(b.p,{className:"flex gap-2",onValueChange:t.onChange,value:t.value,children:[(0,r.jsx)(g.eI,{asChild:!0,children:(0,r.jsx)(g.MJ,{children:(0,r.jsx)(b.e,{value:"http1",label:"HTTP/1"})})}),(0,r.jsx)(g.eI,{asChild:!0,children:(0,r.jsx)(g.MJ,{children:(0,r.jsx)(b.e,{value:"http2",label:"HTTP/2"})})})]})})})}})]}),(0,r.jsx)(g.zB,{control:U.control,name:"gzip",render:e=>{let{field:t}=e;return(0,r.jsx)(g.eI,{className:"space-y-2 px-4",children:(0,r.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,r.jsx)(g.MJ,{children:(0,r.jsx)(w.d,{checked:t.value,onCheckedChange:t.onChange})}),(0,r.jsx)(g.lR,{className:"text-base",children:"Gzip"}),(0,r.jsx)(S.I,{align:"start",children:"Gzip compresses logs before sending it to the destination."})]})})}})]}),"datadog"===B&&(0,r.jsxs)("div",{className:"grid gap-4 px-content",children:[(0,r.jsx)(M,{type:"password",value:"api_key",label:"API Key",formControl:U.control,description:(0,r.jsxs)(r.Fragment,{children:["The API Key obtained from the Datadog dashboard"," ",(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"text-sm underline transition hover:text-foreground",href:"https://app.datadoghq.com/organization-settings/api-keys",children:"here"})]})}),(0,r.jsx)(g.zB,{name:"region",control:U.control,render:e=>{let{field:t}=e;return(0,r.jsx)(k.M,{layout:"horizontal",label:"Region",description:(0,r.jsxs)("p",{children:["The Datadog region to send logs to. Read more about Datadog regions"," ",(0,r.jsx)("a",{target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-foreground transition",href:"https://docs.datadoghq.com/getting_started/site/#access-the-datadog-site",children:"here"}),"."]}),children:(0,r.jsx)(g.MJ,{children:(0,r.jsxs)(j.l6,{value:t.value,onValueChange:t.onChange,children:[(0,r.jsx)(j.bq,{className:"col-span-3",children:(0,r.jsx)(j.yv,{placeholder:"Select a region"})}),(0,r.jsx)(j.gC,{children:(0,r.jsxs)(j.s3,{children:[(0,r.jsx)(j.TR,{children:"Region"}),E.map(e=>(0,r.jsx)(j.eb,{value:e.value,children:e.label},e.value))]})})]})})})}})]}),"loki"===B&&(0,r.jsxs)("div",{className:"grid gap-4 px-content",children:[(0,r.jsx)(M,{type:"url",value:"url",placeholder:"https://my-logs-endpoint.grafana.net/loki/api/v1/push",label:"Loki URL",formControl:U.control,description:"The Loki HTTP(S) endpoint to send events."}),(0,r.jsx)(M,{value:"username",label:"Username",placeholder:"123456789",formControl:U.control}),(0,r.jsx)(M,{type:"password",value:"password",label:"Password",placeholder:"glc_ABCD1234567890",formControl:U.control})]}),(0,r.jsx)(g.C5,{"data-sentry-element":"FormMessage_Shadcn_","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx"})]})]})}),("webhook"===B||"loki"===B)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"border-t mt-4",children:[(0,r.jsxs)("div",{className:"px-content pt-2 pb-3 border-b bg-background-alternative-200",children:[(0,r.jsx)("h2",{className:"text-sm text-foreground",children:"Custom Headers"}),(0,r.jsx)("p",{className:"text-xs text-foreground-lighter",children:"webhook"===B?"Set custom headers when draining logs to the Endpoint URL":"loki"===B?"Set custom headers when draining logs to the Loki HTTP(S) endpoint":""})]}),(0,r.jsx)("div",{className:"divide-y",children:G&&(null==(u=Object.keys(V||{}))?void 0:u.map(e=>(0,r.jsxs)("div",{className:"flex text-sm px-content text-foreground items-center font-mono py-1.5 group",children:[(0,r.jsx)("div",{className:"w-full",children:e}),(0,r.jsx)("div",{className:"w-full truncate",title:null==V?void 0:V[e],children:null==V?void 0:V[e]}),(0,r.jsx)(N.$,{className:"justify-self-end opacity-0 group-hover:opacity-100 w-7",type:"text",title:"Remove",icon:(0,r.jsx)(d.A,{}),onClick:()=>(function(e){let t={...V};delete t[e],U.setValue("headers",t)})(e)})]},e)))})]}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),e.stopPropagation(),function(){let e=U.getValues("headers");if(!e)return;let t=Object.keys(e);(null==t?void 0:t.length)===20?s.oR.error("You can only have 20 custom headers"):(null==t?void 0:t.includes(H.name))?s.oR.error("Header name already exists"):H.name&&H.value?(U.setValue("headers",{...e,[H.name]:H.value}),q({name:"",value:""})):s.oR.error("Header name and value are required")}()},className:"flex border-t py-4 gap-4 items-center px-content",children:[(0,r.jsx)("label",{className:"sr-only",htmlFor:"header-name",children:"Header name"}),(0,r.jsx)(y.p,{id:"header-name",type:"text",placeholder:"x-header-name",value:H.name,onChange:e=>q({...H,name:e.target.value})}),(0,r.jsx)("label",{className:"sr-only",htmlFor:"header-value",children:"Header value"}),(0,r.jsx)(y.p,{id:"header-value",type:"text",placeholder:"Header value",value:H.value,onChange:e=>q({...H,value:e.target.value})}),(0,r.jsx)(N.$,{htmlType:"submit",type:"outline",children:"Add"})]})]})]}),(0,r.jsxs)("div",{className:"mt-auto",children:[(0,r.jsx)(v.Xc,{className:"border-t bg-background-alternative-200 mt-auto","data-sentry-element":"SheetSection","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsx)(k.M,{isReactForm:!1,layout:"horizontal",label:(0,r.jsxs)("div",{className:"flex flex-col gap-y-2 text-foreground-light",children:["Additional drain cost",(0,r.jsx)(z.A,{abbrev:!1,className:"w-min",href:"https://supabase.com/docs/guides/platform/log-drains"})]}),"data-sentry-element":"FormItemLayout","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsxs)("ul",{className:"text-right text-foreground-light",children:[(0,r.jsx)("li",{className:"text-brand-link text-base",translate:"no",children:"$60 per drain per month"}),(0,r.jsx)("li",{translate:"no",children:"+ $0.20 per million events"}),(0,r.jsx)("li",{translate:"no",children:"+ $0.09 per GB egress"})]})})}),(0,r.jsx)(v.XW,{className:"p-content !mt-0","data-sentry-element":"SheetFooter","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:(0,r.jsx)(N.$,{form:_,loading:C,htmlType:"submit",type:"primary","data-sentry-element":"Button","data-sentry-source-file":"LogDrainDestinationSheetForm.tsx",children:"Save destination"})})]})]})})}var P=a(86401),H=a(67939),q=a(63320),U=a.n(q),V=a(98474),B=a(31432),G=a(41960),Z=a(32144),$=a(80251);async function O(e){let{projectRef:t,token:a}=e,{data:r,error:n}=await (0,p.yH)("/platform/projects/{ref}/analytics/log-drains/{token}",{params:{path:{ref:t,token:a}}});return n&&(0,p.H4)(n),r}let X=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Z.jE)();return(0,$.n)(e=>O(e),{async onSuccess(t,a,n){let{projectRef:l}=a;await r.invalidateQueries(f.list(l)),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?s.oR.error("Failed to mutate: ".concat(e.message)):t(e,a,r)},...a})};var J=a(31870),K=a(25718),Q=a(20969),W=a(33656),Y=a(36212),ee=a(62719);function et(e){let{onNewDrainClick:t,onUpdateDrainClick:a}=e,n=(0,K.a)(),{isLoading:i,plan:c}=(0,J.c)(),u=!i&&((null==c?void 0:c.id)==="team"||(null==c?void 0:c.id)==="enterprise"),[m,p]=(0,l.useState)(!1),[f,h]=(0,l.useState)(null),{ref:g}=(0,o.g)(),{data:y,isLoading:v,refetch:j,error:b,isError:w}=x({ref:g},{enabled:u}),{mutate:k}=X({onSuccess:()=>{p(!1),h(null)},onError:()=>{p(!1),h(null),s.oR.error("Failed to delete log drain")}});return i||u?v||i?(0,r.jsx)("div",{children:(0,r.jsx)(ee.y,{})}):v||(null==y?void 0:y.length)!==0?w?(0,r.jsx)(V.A,{error:b}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(G.A,{className:"","data-sentry-element":"Panel","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsxs)(Q.XI,{"data-sentry-element":"Table","data-sentry-source-file":"LogDrains.tsx",children:[(0,r.jsx)(Q.A0,{"data-sentry-element":"TableHeader","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsxs)(Q.Hj,{"data-sentry-element":"TableRow","data-sentry-source-file":"LogDrains.tsx",children:[(0,r.jsx)(Q.nd,{className:"max-w-[200px]","data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:"Name"}),(0,r.jsx)(Q.nd,{"data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:"Description"}),(0,r.jsx)(Q.nd,{className:"text-right","data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:"Destination"}),(0,r.jsx)(Q.nd,{className:"text-right","data-sentry-element":"TableHead","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsx)("div",{className:"sr-only",children:"Actions"})})]})}),(0,r.jsx)(Q.BF,{"data-sentry-element":"TableBody","data-sentry-source-file":"LogDrains.tsx",children:null==y?void 0:y.map(e=>(0,r.jsxs)(Q.Hj,{children:[(0,r.jsx)(Q.nA,{className:"font-medium truncate max-w-72",title:e.name,children:e.name}),(0,r.jsx)(Q.nA,{className:"text-foreground-light truncate max-w-72",title:e.description,children:e.description}),(0,r.jsx)(Q.nA,{className:"text-right font-mono",children:e.type}),(0,r.jsx)(Q.nA,{className:"text-right",children:(0,r.jsxs)(W.rI,{children:[(0,r.jsx)(W.ty,{asChild:!0,children:(0,r.jsx)(N.$,{type:"text",className:"px-1 opacity-50 hover:opacity-100 !bg-transparent",icon:(0,r.jsx)(P.A,{})})}),(0,r.jsxs)(W.SQ,{className:"max-w-[140px]",align:"end",children:[(0,r.jsxs)(W._2,{onClick:()=>{a(e)},children:[(0,r.jsx)(H.A,{className:"h-4 w-4 mr-2"}),"Update"]}),(0,r.jsxs)(W._2,{onClick:()=>{h(e),p(!0)},children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})})]},e.id))}),(0,r.jsx)(Y.A,{confirmLabel:"Delete",variant:"destructive",title:"Delete Log Drain",visible:m,onConfirm:()=>{f&&g&&k({token:f.token,projectRef:g})},onCancel:()=>p(!1),"data-sentry-element":"ConfirmationModal","data-sentry-source-file":"LogDrains.tsx",children:(0,r.jsxs)("div",{className:"text-foreground-light text-sm",children:[(0,r.jsxs)("p",{children:["Are you sure you want to delete"," ",(0,r.jsx)("span",{className:"text-foreground",children:null==f?void 0:f.name}),"?"]}),(0,r.jsx)("p",{children:"This action cannot be undone."})]})})]})})}):(0,r.jsx)("div",{className:"grid lg:grid-cols-2 gap-3",children:L.map(e=>(0,r.jsx)(B.A,{title:e.name,description:e.description,icon:e.icon,onClick:()=>{t(e.value)}},e.value))}):(0,r.jsx)(B.A,{title:"Upgrade to a Team Plan",description:"Upgrade to a Team or Enterprise Plan to use Log Drains",children:(0,r.jsx)(N.$,{className:"mt-2",asChild:!0,children:(0,r.jsx)(U(),{href:"/org/".concat(null==n?void 0:n.slug,"/billing"),children:"Upgrade to Team"})})})}var ea=a(95293),er=a(95207);async function en(e){let{data:t,error:a}=await (0,p.bE)("/platform/projects/{ref}/analytics/log-drains",{params:{path:{ref:e.projectRef}},body:{name:e.name,description:e.description,type:e.type,config:e.config}});return a&&(0,p.H4)(a),t}let el=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Z.jE)();return(0,$.n)(e=>en(e),{async onSuccess(t,a,n){let{projectRef:l}=a;await r.invalidateQueries(f.list(l)),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?s.oR.error("Failed to mutate: ".concat(e.message)):t(e,a,r)},...a})};async function es(e){if(!e.token)throw Error("Token is required");let{data:t,error:a}=await (0,p.yJ)("/platform/projects/{ref}/analytics/log-drains/{token}",{params:{path:{ref:e.projectRef,token:e.token}},body:{name:e.name,description:e.description,config:e.config}});return a&&(0,p.H4)(a),t}let eo=function(){let{onSuccess:e,onError:t,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,Z.jE)();return(0,$.n)(e=>es(e),{async onSuccess(t,a,n){let{projectRef:l}=a;await r.invalidateQueries(f.list(l)),await (null==e?void 0:e(t,a,n))},async onError(e,a,r){void 0===t?s.oR.error("Failed to mutate: ".concat(e.message)):t(e,a,r)},...a})};var ei=a(65904),ed=a(98883),ec=a(6408);let eu=()=>{let e=(0,ei.SE)(n.aG.ANALYTICS_ADMIN_WRITE,"logflare"),[t,a]=(0,l.useState)(!1),{ref:i}=(0,o.g)(),[d,c]=(0,l.useState)(null),[u,m]=(0,l.useState)("create"),{plan:p,isLoading:f}=(0,J.c)(),h=!f&&((null==p?void 0:p.id)==="team"||(null==p?void 0:p.id)==="enterprise"),{data:g}=x({ref:i},{enabled:h}),{mutate:y,isLoading:v}=el({onSuccess:()=>{s.oR.success("Log drain destination created"),a(!1)},onError:()=>{s.oR.error("Failed to create log drain"),a(!1)}}),{mutate:j,isLoading:b}=eo({onSuccess:()=>{s.oR.success("Log drain updated"),a(!1)},onError:()=>{a(!1),s.oR.error("Failed to update log drain")}});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(er.eh,{"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"log-drains.tsx",children:(0,r.jsxs)(er.Uw,{className:"flex flex-row justify-between","data-sentry-element":"ScaffoldHeader","data-sentry-source-file":"log-drains.tsx",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(er.Dm,{"data-sentry-element":"ScaffoldTitle","data-sentry-source-file":"log-drains.tsx",children:"Log Drains"}),(0,r.jsx)(er.dX,{"data-sentry-element":"ScaffoldDescription","data-sentry-source-file":"log-drains.tsx",children:"Send your project logs to third party destinations"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,r.jsx)(z.A,{href:"https://supabase.com/docs/guides/platform/log-drains","data-sentry-element":"DocsButton","data-sentry-source-file":"log-drains.tsx"}),(null==g?void 0:g.length)!==0&&(0,r.jsx)(N.$,{disabled:!h||!e,onClick:()=>{c(null),m("create"),a(!0)},type:"primary",children:"Add destination"})]})]})}),(0,r.jsxs)(er.eh,{className:"flex flex-col gap-10",bottomPadding:!0,"data-sentry-element":"ScaffoldContainer","data-sentry-source-file":"log-drains.tsx",children:[(0,r.jsx)(I,{mode:u,open:t,onOpenChange:e=>{e||c(null),a(e)},defaultValues:{type:(null==d?void 0:d.type)||"webhook",...d},isLoading:v||b,onSubmit:e=>{let{name:t,description:a,type:r,...n}=e,l={name:t,description:a||"",type:r,config:n,id:null==d?void 0:d.id,projectRef:i,token:null==d?void 0:d.token};if("create"===u)y(l);else if(l.id&&(null==d?void 0:d.token))j(l);else throw Error("Log drain ID and token is required")},"data-sentry-element":"LogDrainDestinationSheetForm","data-sentry-source-file":"log-drains.tsx"}),e?(0,r.jsx)(et,{onUpdateDrainClick:function(e){c(e),m("update"),a(!0)},onNewDrainClick:function(e){c({type:e}),m("create"),a(!0)}}):(0,r.jsx)(ed.Fc,{variant:"default",children:"You do not have permission to manage log drains"})]})]})};eu.getLayout=e=>(0,r.jsx)(ec.A,{children:(0,r.jsx)(ea.A,{title:"Log Drains",children:e})});let em=eu},31432:(e,t,a)=>{"use strict";a.d(t,{A:()=>c});var r=a(80263),n=a(42073),l=a(28894),s=a(63320),o=a.n(s),i=a(53239),d=a(2);let c=e=>{let t,{title:a,description:s,children:c,footer:u,url:m="",linkHref:p="",imgUrl:f,imgAlt:h,icon:x,className:g,loading:y=!1,fixedHeight:v=!0,hideChevron:j=!1,titleClass:b="",containerElement:w,...N}=e,k=m||p||N.onClick,S={},C=w&&i.isValidElement(w)?e=>(0,i.cloneElement)(w,{...e}):void 0;N.onClick?(t=null!=C?C:"button",S=N):p?(t=null!=C?C:o(),S={href:p,...N}):m?(t=null!=C?C:"a",S={href:m,...N}):(t=null!=C?C:"div",S=N);let A=["group relative text-left","bg-surface-100","border border-surface","rounded-md p-5 flex flex-row","transition ease-in-out duration-150"];k&&(A=[...A,"cursor-pointer","hover:bg-surface-200","hover:border-control"]),v&&(A=[...A,"min-h-32 md:min-h-44"]);let R=e=>{let{children:t}=e;return(0,r.jsx)("div",{className:"mr-4 flex flex-col","data-sentry-component":"ImageContainer","data-sentry-source-file":"CardButton.tsx",children:t})},D=(0,r.jsxs)(r.Fragment,{children:[f&&(0,r.jsx)(R,{children:(0,r.jsx)("img",{className:" transition-all group-hover:scale-110 ",src:"".concat(f),alt:"".concat(h),width:"26"})}),x&&(0,r.jsx)(R,{children:x}),(0,r.jsxs)("div",{className:"flex h-full w-full flex-col space-y-2",children:["string"==typeof a?(0,r.jsx)("h5",{className:"text-foreground pr-5 ".concat(b),children:a}):a,(c||s)&&(0,r.jsxs)("div",{className:"flex w-full flex-1 flex-col",children:[(0,r.jsx)("p",{className:"text-sm text-foreground-light",children:s}),(0,r.jsx)("div",{className:"w-full",children:c&&c})]}),u&&(0,r.jsx)("div",{className:"w-full !mt-auto",children:u})]}),k&&(0,r.jsx)("div",{className:" absolute right-4 top-4 text-foreground-lighter transition-all duration-200 group-hover:right-3 group-hover:text-foreground ",children:y?(0,r.jsx)(n.A,{className:"animate-spin"}):j?(0,r.jsx)(r.Fragment,{}):(0,r.jsx)(l.A,{})})]});return(0,r.jsx)(t,{...S,className:(0,d.cn)(A,g),"data-sentry-element":"Container","data-sentry-component":"CardButton","data-sentry-source-file":"CardButton.tsx",children:D})}},31755:(e,t,a)=>{"use strict";a.d(t,{F:()=>c,r:()=>d});let r=/^((ftp|http|https):\/\/)?(www.)?(?!.*(ftp|http|https|www.))[a-zA-Z0-9_*-]+(\.[a-zA-Z0-9_*-]+)+((\/)[\w#]+)*(\/\w+\?[a-zA-Z0-9_]+=\w+(&[a-zA-Z0-9_]+=\w+)*)+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))(.*)?\/?(.)*?$/gm,n=/^[a-z0-9-]+([.][a-z0-9]+)*:\/(\/[-a-z0-9._~!$&'()*+,;=:@%]+)+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))(.*)?\/?(.)*?$/i,l=/^(?:^|\s)((https?:\/\/)?(?:localhost|[\w-]+(?:\.[\w-]+)+)(:\d+)?(\/\S*)?)/i,s=/chrome-extension:\/\/([a-zA-Z]*)/gm,o=/^([a-zA-Z][a-zA-Z0-9+.-]*):(?:\/{1,3})?([a-zA-Z0-9_.-]*)$/,i=/^[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$/;function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{excludeSimpleDomains:!0},{excludeSimpleDomains:t}=e,a=t?"(?!".concat(i.source,")"):"";return RegExp("".concat(a,"((").concat(r.source,")|(").concat(l.source,")|(").concat(n.source,")|(").concat(s.source,")|(").concat(o.source,"))"),"i")}let c="NO_REQUIRED_CHARS"},31870:(e,t,a)=>{"use strict";a.d(t,{c:()=>n});var r=a(25718);function n(){let e=(0,r.a)();return e?{plan:null==e?void 0:e.plan,usageBillingEnabled:null==e?void 0:e.usage_billing_enabled,isLoading:!1,isSuccess:!0}:{plan:null,usageBillingEnabled:null,isLoading:!0,isSuccess:!1}}},42190:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var r=a(80263),n=a(63320),l=a.n(n),s=a(42677),o=a(38952),i=a(16601);let d=e=>{let{name:t="",isActive:a,isExternal:n,icon:d,rightIcon:c,url:u="",target:m="_self",onClick:p,textClassName:f="",hoverText:h="",label:x}=e,g=(0,r.jsx)(s.Ay.Item,{icon:d,rounded:!0,active:a,onClick:p,children:(0,r.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,r.jsxs)("div",{title:h||("string"==typeof t?t:""),className:"flex items-center gap-2 truncate w-full "+f,children:[(0,r.jsxs)("span",{className:"truncate",children:[t," "]}),void 0!==x&&(0,r.jsx)(o.E,{variant:"warning",className:"py-0 px-1.5 capitalize",children:x})]}),c&&(0,r.jsx)("div",{children:c})]})});return u?n?(0,r.jsx)(i.$,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:d,children:(0,r.jsx)(l(),{href:u,target:"_blank",rel:"noreferrer",children:t})}):(0,r.jsx)(l(),{href:u,className:"block",target:m,children:g}):g}},42677:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>m});var r=a(80263),n=a(53239),l=a(77690),s=a(2);function o(e){let{children:t,className:a,tag:n="div",style:l}=e;return(0,r.jsx)("".concat(n),{style:l,"data-sentry-element":"CustomTag","data-sentry-component":"Typography","data-sentry-source-file":"Typography.tsx",children:t})}o.Title=function(e){let{className:t,level:a=1,children:n,style:l}=e;return(0,r.jsx)("h".concat(a),{style:l,"data-sentry-element":"CustomTag","data-sentry-component":"Title","data-sentry-source-file":"Title.tsx",children:n})},o.Text=function(e){let{className:t,children:a,style:n,type:l,disabled:s,mark:o,code:i,keyboard:d,underline:c,strikethrough:u,strong:m,small:p}=e;return i?(0,r.jsx)("code",{style:n,children:a}):o?(0,r.jsx)("mark",{style:n,children:a}):d?(0,r.jsx)("kbd",{style:n,children:a}):m?(0,r.jsx)("strong",{style:n,children:a}):(0,r.jsx)("span",{style:n,"data-sentry-component":"Text","data-sentry-source-file":"Text.tsx",children:a})},o.Link=function(e){let{children:t,target:a="_blank",href:n,className:l,onClick:s,style:o}=e;return(0,r.jsx)("a",{onClick:s,href:n,target:a,rel:"noopener noreferrer",style:o,"data-sentry-component":"Link","data-sentry-source-file":"Link.tsx",children:t})};let i=(0,n.createContext)({type:"text"}),d=e=>{let{type:t}=e;return(0,r.jsx)(i.Provider,{value:{type:t},"data-sentry-element":"unknown","data-sentry-component":"MenuContextProvider","data-sentry-source-file":"MenuContext.tsx",children:e.children})},c=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function u(e){let{children:t,className:a,ulClassName:n,style:l,type:s="text"}=e;return(0,r.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:a,style:l,"data-sentry-component":"Menu","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)(d,{type:s,"data-sentry-element":"MenuContextProvider","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)("ul",{className:n,children:t})})})}u.Item=function(e){let{children:t,icon:a,active:n,rounded:o,onClick:i,doNotCloseOverlay:d=!1,showActiveBar:u=!1,style:m}=e,p=(0,l.A)("menu"),{type:f}=c(),h=[p.item.base];h.push(p.item.variants[f].base),n?h.push(p.item.variants[f].active):h.push(p.item.variants[f].normal);let x=[p.item.content.base];n?x.push(p.item.content.active):x.push(p.item.content.normal);let g=[p.item.icon.base];return n?g.push(p.item.icon.active):g.push(p.item.icon.normal),(0,r.jsxs)("li",{role:"menuitem",className:(0,s.cn)("outline-none",h),style:m,onClick:i,"aria-current":n?"page":void 0,"data-sentry-component":"Item","data-sentry-source-file":"Menu.tsx",children:[a&&(0,r.jsx)("div",{className:"".concat(g.join(" ")," min-w-fit"),children:a}),(0,r.jsx)("span",{className:x.join(" "),children:t})]})},u.Group=function(e){let{children:t,icon:a,title:n}=e,s=(0,l.A)("menu"),{type:o}=c();return(0,r.jsxs)("div",{className:[s.group.base,s.group.variants[o]].join(" "),"data-sentry-component":"Group","data-sentry-source-file":"Menu.tsx",children:[a&&(0,r.jsx)("span",{className:s.group.icon,children:a}),(0,r.jsx)("span",{className:s.group.content,children:n}),t]})},u.Misc=function(e){let{children:t}=e;return(0,r.jsx)("div",{"data-sentry-component":"Misc","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)(o.Text,{"data-sentry-element":"unknown","data-sentry-source-file":"Menu.tsx",children:(0,r.jsx)("span",{children:t})})})};let m=u},44893:(e,t,a)=>{"use strict";a.d(t,{bL:()=>b,zi:()=>w});var r=a(54993),n=a(53239),l=a(91968),s=a(63774),o=a(68436),i=a(87990),d=a(15630),c=a(89422),u=a(70297);let m="Switch",[p,f]=(0,o.A)(m),[h,x]=p(m),g=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:a,name:o,checked:d,defaultChecked:c,required:m,disabled:p,value:f="on",onCheckedChange:x,...g}=e,[y,b]=(0,n.useState)(null),w=(0,s.s)(t,e=>b(e)),N=(0,n.useRef)(!1),k=!y||!!y.closest("form"),[S=!1,C]=(0,i.i)({prop:d,defaultProp:c,onChange:x});return(0,n.createElement)(h,{scope:a,checked:S,disabled:p},(0,n.createElement)(u.sG.button,(0,r.A)({type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":j(S),"data-disabled":p?"":void 0,disabled:p,value:f},g,{ref:w,onClick:(0,l.m)(e.onClick,e=>{C(e=>!e),k&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})})),k&&(0,n.createElement)(v,{control:y,bubbles:!N.current,name:o,value:f,checked:S,required:m,disabled:p,style:{transform:"translateX(-100%)"}}))}),y=(0,n.forwardRef)((e,t)=>{let{__scopeSwitch:a,...l}=e,s=x("SwitchThumb",a);return(0,n.createElement)(u.sG.span,(0,r.A)({"data-state":j(s.checked),"data-disabled":s.disabled?"":void 0},l,{ref:t}))}),v=e=>{let{control:t,checked:a,bubbles:l=!0,...s}=e,o=(0,n.useRef)(null),i=(0,d.Z)(a),u=(0,c.X)(t);return(0,n.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==a&&t){let r=new Event("click",{bubbles:l});t.call(e,a),e.dispatchEvent(r)}},[i,a,l]),(0,n.createElement)("input",(0,r.A)({type:"checkbox","aria-hidden":!0,defaultChecked:a},s,{tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function j(e){return e?"checked":"unchecked"}let b=g,w=y},52839:(e,t,a)=>{"use strict";a.d(t,{e:()=>d,p:()=>i});var r=a(80263),n=a(72342),l=a(24922),s=a(53239),o=a(2);let i=s.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,r.jsx)(n.bL,{className:(0,o.cn)("grid gap-2",a),...l,ref:t})});i.displayName=n.bL.displayName;let d=s.forwardRef((e,t)=>{let{image:a,label:s,showIndicator:i=!0,...d}=e;return(0,r.jsxs)(n.q7,{ref:t,...d,className:(0,o.cn)("flex flex-col gap-2","w-48","bg-overlay","rounded-md","border","p-2","hover:border-foreground-muted","hover:z-[1] focus-visible:z-[1]","data-[state=checked]:z-[1]","data-[state=checked]:ring-2 data-[state=checked]:ring-border","data-[state=checked]:bg-surface-200 dark:data-[state=checked]:bg-surface-300","data-[state=checked]:border-foreground/50","transition-colors","group",d.className),children:[d.children,(0,r.jsxs)("label",{className:"flex gap-2 w-full",id:d.id,htmlFor:d.value,children:[i&&(0,r.jsx)("div",{className:" aspect-square h-4 w-4  rounded-full border group-data-[state=checked]:border-foreground-muted group-focus:border-foreground-muted group-hover:border-foreground-muted ring-offset-background  group-focus:outline-none  group-focus-visible:ring-2 group-focus-visible:ring-ring group-focus-visible:ring-offset-2  group-disabled:cursor-not-allowed group-disabled:opacity-50 flex items-center justify-center transition ",children:(0,r.jsx)(n.C1,{className:"flex items-center justify-center",children:(0,r.jsx)(l.A,{className:"h-2.5 w-2.5 fill-current text-current"})})}),(0,r.jsx)("div",{className:(0,o.cn)("w-full","text-xs transition-colors text-left","text-light","group-hover:text-foreground group-data-[state=checked]:text-foreground",d.disabled?"cursor-not-allowed":"cursor-pointer"),children:s})]})]})});d.displayName=n.q7.displayName},67144:(e,t,a)=>{"use strict";a.d(t,{l:()=>o});var r=a(80263),n=a(42677),l=a(38952),s=a(42190);let o=e=>{let{page:t,menu:a}=e;return(0,r.jsx)("div",{className:"flex flex-col space-y-8 overflow-y-auto","data-sentry-component":"ProductMenu","data-sentry-source-file":"ProductMenu.tsx",children:(0,r.jsx)(n.Ay,{type:"pills","data-sentry-element":"Menu","data-sentry-source-file":"ProductMenu.tsx",children:a.map((e,o)=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"my-6 space-y-8",children:(0,r.jsxs)("div",{className:"mx-3",children:[(0,r.jsx)(n.Ay.Group,{title:e.title?(0,r.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,r.jsx)("span",{children:e.title}),e.isPreview&&(0,r.jsx)(l.E,{variant:"warning",children:"Not production ready"})]}):null}),(0,r.jsx)("div",{children:e.items.map(e=>{let a=e.pages?e.pages.includes(null!=t?t:""):t===e.key;return(0,r.jsx)(s.A,{url:e.url,name:e.name,icon:e.icon,rightIcon:e.rightIcon,isActive:a,isExternal:e.isExternal,target:e.isExternal?"_blank":"_self",label:e.label},e.key)})})]})}),o!==a.length-1&&(0,r.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},e.key||e.title))})})}},67939:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(47370).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},69298:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/project/[ref]/settings/log-drains",function(){return a(27098)}])},72342:(e,t,a)=>{"use strict";a.d(t,{C1:()=>I,bL:()=>F,q7:()=>M});var r=a(54993),n=a(53239),l=a(91968),s=a(63774),o=a(68436),i=a(70297),d=a(23578),c=a(87990),u=a(37268),m=a(89422),p=a(15630),f=a(74519);let h="Radio",[x,g]=(0,o.A)(h),[y,v]=x(h),j=(0,n.forwardRef)((e,t)=>{let{__scopeRadio:a,name:o,checked:d=!1,required:c,disabled:u,value:m="on",onCheck:p,...f}=e,[h,x]=(0,n.useState)(null),g=(0,s.s)(t,e=>x(e)),v=(0,n.useRef)(!1),j=!h||!!h.closest("form");return(0,n.createElement)(y,{scope:a,checked:d,disabled:u},(0,n.createElement)(i.sG.button,(0,r.A)({type:"button",role:"radio","aria-checked":d,"data-state":N(d),"data-disabled":u?"":void 0,disabled:u,value:m},f,{ref:g,onClick:(0,l.m)(e.onClick,e=>{d||null==p||p(),j&&(v.current=e.isPropagationStopped(),v.current||e.stopPropagation())})})),j&&(0,n.createElement)(w,{control:h,bubbles:!v.current,name:o,value:m,checked:d,required:c,disabled:u,style:{transform:"translateX(-100%)"}}))}),b=(0,n.forwardRef)((e,t)=>{let{__scopeRadio:a,forceMount:l,...s}=e,o=v("RadioIndicator",a);return(0,n.createElement)(f.C,{present:l||o.checked},(0,n.createElement)(i.sG.span,(0,r.A)({"data-state":N(o.checked),"data-disabled":o.disabled?"":void 0},s,{ref:t})))}),w=e=>{let{control:t,checked:a,bubbles:l=!0,...s}=e,o=(0,n.useRef)(null),i=(0,p.Z)(a),d=(0,m.X)(t);return(0,n.useEffect)(()=>{let e=o.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==a&&t){let r=new Event("click",{bubbles:l});t.call(e,a),e.dispatchEvent(r)}},[i,a,l]),(0,n.createElement)("input",(0,r.A)({type:"radio","aria-hidden":!0,defaultChecked:a},s,{tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function N(e){return e?"checked":"unchecked"}let k=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],S="RadioGroup",[C,A]=(0,o.A)(S,[d.RG,g]),R=(0,d.RG)(),D=g(),[L,E]=C(S),z=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:a,name:l,defaultValue:s,value:o,required:m=!1,disabled:p=!1,orientation:f,dir:h,loop:x=!0,onValueChange:g,...y}=e,v=R(a),j=(0,u.jH)(h),[b,w]=(0,c.i)({prop:o,defaultProp:s,onChange:g});return(0,n.createElement)(L,{scope:a,name:l,required:m,disabled:p,value:b,onValueChange:w},(0,n.createElement)(d.bL,(0,r.A)({asChild:!0},v,{orientation:f,dir:j,loop:x}),(0,n.createElement)(i.sG.div,(0,r.A)({role:"radiogroup","aria-required":m,"aria-orientation":f,"data-disabled":p?"":void 0,dir:j},y,{ref:t}))))}),_=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:a,disabled:o,...i}=e,c=E("RadioGroupItem",a),u=c.disabled||o,m=R(a),p=D(a),f=(0,n.useRef)(null),h=(0,s.s)(t,f),x=c.value===i.value,g=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let e=e=>{k.includes(e.key)&&(g.current=!0)},t=()=>g.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,n.createElement)(d.q7,(0,r.A)({asChild:!0},m,{focusable:!u,active:x}),(0,n.createElement)(j,(0,r.A)({disabled:u,required:c.required,checked:x},p,i,{name:c.name,ref:h,onCheck:()=>c.onValueChange(i.value),onKeyDown:(0,l.m)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,l.m)(i.onFocus,()=>{var e;g.current&&(null==(e=f.current)||e.click())})})))}),T=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:a,...l}=e,s=D(a);return(0,n.createElement)(b,(0,r.A)({},s,l,{ref:t}))}),F=z,M=_,I=T},81370:(e,t,a)=>{"use strict";a.d(t,{I:()=>o});var r=a(80263),n=a(53239),l=a(3732);let s=(0,n.forwardRef)((e,t)=>(0,r.jsx)("svg",{ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",...e,children:(0,r.jsx)("path",{d:"M15 8A7 7 0 1 1 1 8a7 7 0 0 1 14 0ZM9 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0ZM6.75 8a.75.75 0 0 0 0 1.5h.75v1.75a.75.75 0 0 0 1.5 0v-2.5A.75.75 0 0 0 8.25 8h-1.5Z",fillRule:"evenodd",clipRule:"evenodd"})})),o=(0,n.forwardRef)((e,t)=>{let{...a}=e;return(0,r.jsxs)(l.m_,{children:[(0,r.jsx)(l.k$,{type:"button",role:"button",className:"flex [&_svg]:data-[state=delayed-open]:fill-foreground-lighter [&_svg]:data-[state=instant-open]:fill-foreground-lighter",children:(0,r.jsx)(s,{strokeWidth:2,className:"transition-colors fill-foreground-muted w-4 h-4"})}),(0,r.jsx)(l.ZI,{...a})]})})},86401:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(47370).A)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},95207:(e,t,a)=>{"use strict";a.d(t,{BS:()=>o,Dm:()=>c,HJ:()=>v,Rf:()=>g,Uw:()=>d,Vw:()=>w,Xr:()=>b,aw:()=>h,bV:()=>s,cJ:()=>p,dX:()=>u,eh:()=>i,fh:()=>j,gu:()=>m,sZ:()=>f,tn:()=>y,xp:()=>x});var r=a(80263),n=a(53239),l=a(2);let s="mx-auto w-full max-w-[1200px]",o="px-4 @lg:px-6 @xl:px-12 @2xl:px-20 @3xl:px-24",i=(0,n.forwardRef)((e,t)=>{let{className:a,bottomPadding:n,size:s="default",...i}=e;return(0,r.jsx)("div",{ref:t,...i,className:(0,l.cn)("mx-auto w-full",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[s],o,n&&"pb-16",a)})}),d=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("header",{...n,ref:t,className:(0,l.cn)("w-full","flex-col gap-3 py-6",a)})}),c=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h1",{ref:t,...n,className:(0,l.cn)("text-2xl",a)})}),u=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,...n,className:(0,l.cn)("text-sm text-foreground-light",a)})}),m=(0,n.forwardRef)((e,t)=>{let{className:a,isFullWidth:n,topPadding:s,...o}=e;return(0,r.jsx)("div",{ref:t,...o,className:(0,l.cn)("flex flex-col first:pt-12 py-6",n?"w-full":"gap-3 lg:grid md:grid-cols-12",a)})}),p=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,l.cn)("w-full h-px bg-border",a)})}),f=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("h3",{ref:t,...n,className:(0,l.cn)("text-foreground text-xl",a)})}),h=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("p",{ref:t,...n,className:(0,l.cn)("text-sm text-foreground-light",a)})}),x=(0,n.forwardRef)((e,t)=>{let{className:a,children:n,title:s,...o}=e;return(0,r.jsxs)("div",{ref:t,...o,className:(0,l.cn)("col-span-4 xl:col-span-5 prose text-sm",a),children:[s&&(0,r.jsx)("h2",{children:s}),n]})}),g=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,l.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",a)})}),y=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex flex-col gap-3 items-center",a)})}),v=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex w-full items-center",a)})}),j=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex flex-row gap-3",a)})}),b=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,l.cn)("flex flex-col gap-3","min-w-[420px]",a)})}),w=(0,n.forwardRef)((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("div",{ref:t,...n,className:(0,l.cn)(s,o,"my-8 flex flex-col gap-8",a)})});d.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",u.displayName="ScaffoldDescription",i.displayName="ScaffoldContainer",p.displayName="ScaffoldDivider",m.displayName="ScaffoldSection",b.displayName="ScaffoldColumn",x.displayName="ScaffoldSectionDetail",g.displayName="ScaffoldSectionContent",y.displayName="ScaffoldFilterAndContent",v.displayName="ScaffoldActionsContainer",j.displayName="ScaffoldActionsGroup",w.displayName="ScaffoldContainerLegacy",f.displayName="ScaffoldSectionTitle",h.displayName="ScaffoldSectionDescription"},95293:(e,t,a)=>{"use strict";a.d(t,{A:()=>x});var r=a(80263),n=a(52385),l=a(53239),s=a(89044),o=a(67144),i=a(45479),d=a(25718),c=a(83634),u=a(29730),m=a(24726),p=a(58897),f=a(88601),h=a(48583);let x=(0,u.r)(e=>{let{title:t,children:a}=e,u=(0,n.useRouter)(),{ref:x}=(0,s.g)(),g=(0,c.KT)(),y=(0,d.a)();(0,l.useEffect)(()=>{p.pe||u.push("/project/default")},[u]);let v=u.pathname.includes("billing")?u.pathname.split("/")[5]:u.pathname.split("/")[4],{projectAuthAll:j,projectEdgeFunctionAll:b,projectStorageAll:w,billingInvoices:N}=(0,i.x)(["project_auth:all","project_edge_function:all","project_storage:all","billing:invoices"]),k=(0,m._)("newApiKeys"),S=(0,h.M)(x,g,y,{auth:j,edgeFunctions:b,storage:w,invoices:N,newApiKeys:k});return(0,r.jsx)(f.A,{isBlocking:!1,title:t||"Settings",product:"Settings",productMenu:(0,r.jsx)(o.l,{page:v,menu:S}),"data-sentry-element":"ProjectLayout","data-sentry-component":"SettingsLayout","data-sentry-source-file":"SettingsLayout.tsx",children:a})})}},e=>{var t=t=>e(e.s=t);e.O(0,[89,2479,8058,9353,9413,3730,6110,6182,589,9257,1673,5599,7990,8508,4365,2981,7406,1685,4560,4963,408,4340,30,5969,3719,9472,9088,3423,1252,7613,8601,6593,636,8792],()=>t(69298)),_N_E=e.O()}]);